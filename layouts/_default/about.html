{{- define "main" }}
{{- $aboutData := site.Data.about -}}
{{- $useProfileData := .Param "useProfileData" | default false -}}
<article class="post-single about-single">
  <header class="post-header">
    <h1 class="post-title entry-hint-parent">{{ .Title }}</h1>
    {{- with .Description }}
    <div class="post-description">{{ . }}</div>
    {{- end }}
    <div class="about-social">
      {{- partial "social_icons.html" (dict "align" "left") -}}
    </div>
  </header>

  {{- if and $useProfileData $aboutData }}
  <div class="about-profile">
    {{- with $aboutData.profile.roles }}
    <section class="about-block">
      <h2>{{ $aboutData.profile.title | default "Title" }}</h2>
      <ul class="about-list">
        {{- range . }}
        <li>{{ . }}</li>
        {{- end }}
      </ul>
    </section>
    {{- end }}

    {{- with $aboutData.highlights }}
    <section class="about-block">
      <h2>Highlights</h2>
      <ul class="about-list">
        {{- range . }}
        <li>{{ . }}</li>
        {{- end }}
      </ul>
    </section>
    {{- end }}

    {{- with $aboutData.certifications }}
    <section class="about-block about-block-certifications">
      <h2>Certifications</h2>
      <ul class="about-cert-list">
        {{- range . }}
        <li>{{ . }}</li>
        {{- end }}
      </ul>
    </section>
    {{- end }}

    {{- with $aboutData.honors }}
    <section class="about-block">
      <h2>Honors</h2>
      <ul class="about-list">
        {{- range . }}
        <li>{{ . }}</li>
        {{- end }}
      </ul>
    </section>
    {{- end }}

    {{- with $aboutData.works }}
    <section class="about-block">
      <h2>Works</h2>
      <ul class="about-work-list">
        {{- range . }}
        <li>
          <span class="about-work-type">{{ .type }}</span>
          {{- if .url }}
          <a href="{{ .url }}" target="_blank" rel="noopener noreferrer">{{ .title }}</a>
          {{- else }}
          <span>{{ .title }}</span>
          {{- end }}
        </li>
        {{- end }}
      </ul>
    </section>
    {{- end }}

    {{- with $aboutData.roadmap }}
    <section class="about-block">
      <h2>Next</h2>
      <ul class="about-list">
        {{- range . }}
        <li>{{ . }}</li>
        {{- end }}
      </ul>
    </section>
    {{- end }}
  </div>
  {{- else if .Content }}
  <div class="post-content">
    {{- if not (.Param "disableAnchoredHeadings") }}
    {{- partial "anchored_headings.html" .Content -}}
    {{- else -}}
    {{ .Content }}
    {{- end }}
  </div>
  {{- end }}
</article>
{{- end }}
