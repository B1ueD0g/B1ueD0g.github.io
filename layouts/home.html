{{- define "main" }}
<article class="first-entry home-info">
  <header class="entry-header">
    <h1>{{ site.Params.homeInfoParams.Title | default "He is Exploring Everything." }}</h1>
  </header>

  <div class="home-search-wrap">
    <div class="home-search-box">
      <input
        id="home-search-input"
        type="search"
        placeholder="输入关键词后回车，例如：零信任、AI、翻译"
        aria-label="Search posts"
      />
      <button id="home-search-btn" type="button">Search</button>
    </div>

    <div class="home-search-tags">
      <span>Try Tags:</span>
      <a href="/search/?q=零信任">#零信任</a>
      <a href="/search/?q=AI">#AI</a>
      <a href="/search/?q=数据安全">#数据安全</a>
      <a href="/search/?q=翻译">#翻译</a>
      <a href="/search/?q=威胁">#威胁</a>
    </div>
  </div>
</article>

<script>
  window.addEventListener("DOMContentLoaded", function () {
    var input = document.getElementById("home-search-input");
    var button = document.getElementById("home-search-btn");
    if (!input || !button) return;

    function submitSearch() {
      var keyword = input.value.trim();
      if (!keyword) {
        window.location.href = "/search/";
        return;
      }
      window.location.href = "/search/?q=" + encodeURIComponent(keyword);
    }

    button.addEventListener("click", submitSearch);
    input.addEventListener("keydown", function (event) {
      if (event.key === "Enter") {
        event.preventDefault();
        submitSearch();
      }
    });
  });
</script>
{{- end }}
